# 项目任务状态

本文档记录SimpleTrade项目的任务状态，包括已完成的任务、正在进行的任务和计划中的任务。

## 已完成的任务

### 数据管理功能
- [x] 实现基于vnpy_datamanager的数据管理功能
- [x] 添加RESTful API接口
- [x] 添加消息指令处理功能
- [x] 实现qlib数据格式导入支持

### 交易接口
- [x] 集成vnpy_ib交易接口
- [x] 集成vnpy_tiger交易接口

### 前端开发
- [x] 设计Web前端界面
- [x] 实现基本的Web前端功能
- [x] 完善Web前端功能
- [x] 实现数据可视化功能
- [x] 采用Element UI框架重新设计前端界面
- [x] 实现策略参数调整、回测和实盘交易的一体化界面

## 正在进行的任务

### 数据管理功能
- [ ] 优化数据导入/导出性能
- [ ] 添加更多数据源支持
- [ ] 解决vnpy模块导入问题，使用vnpy原生接口导入数据

### 前端开发
- [ ] 开发微信小程序前端
- [x] 将策略详情从弹出框改为独立完整页面，以便更详细地展示复杂策略内容
- [x] 重构策略中心，实现新的层次化结构
- [x] 增强策略卡片，添加复杂度和资源需求指示器

### 系统集成
- [ ] 完善系统整体架构
- [ ] 优化API接口设计
- [ ] 修复API服务加载路由问题

## 计划中的任务

### 数据分析功能
- [ ] 实现基本的技术分析功能
- [ ] 添加AI分析支持

### 策略管理
- [ ] 实现策略管理功能
- [ ] 添加策略回测功能
- [ ] **实现策略参数调整、回测和实盘交易的一体化流程**
- [ ] **实现策略参数自动优化功能**

### 实时监控
- [ ] 实现实时行情监控
- [ ] 添加预警通知功能

## 已知问题

### 数据管理功能
- 目前qlib数据格式导入功能已实现，但尚未进行全面测试
- 在导入数据时遇到vnpy模块导入问题，目前使用直接操作SQLite数据库的方式解决

### 系统集成
- 需要优化系统启动流程
- 需要完善错误处理机制
- API服务在启动时报错，无法正确加载数据管理API路由

## 最近更新

### 2023-04-17
- 重构了策略中心，实现了新的层次化结构，包括基础策略、高级策略和组件库
- 增强了策略卡片，添加了复杂度和资源需求指示器
- 完善了策略详情独立页面，增加了复杂度和资源需求信息
- 添加了策略构建器的可视化构建器和代码编辑器两种模式
- 遇到了标签嵌套问题，并成功修复了StrategyCenterView.vue文件中的标签结构
- 修复了复杂度评分组件中的v-model语法错误，将其替换为:value属性
- 统一了策略卡片的结构和样式，确保所有卡片具有一致的高度和布局

### 2023-04-15
- 移除了主布局中的API状态显示区域，改善了用户界面
- 计划将策略详情从弹出框改为独立完整页面，以便更好地展示复杂策略内容
- 创建了长期规划路线图文档，记录了集成n8n、dify和coze等开源项目的创新应用场景

### 2023-04-16 (计划)
- 创建策略详情独立页面组件
- 在路由中添加新的路由配置
- 修改策略卡片中的"查看详情"按钮，使其跳转到详情页面
- 设计详情页面的布局和内容，包含策略信息、回测、参数优化和实盘交易四个模块

### 2023-04-14
- 实现了策略参数调整、回测和实盘交易的一体化界面
- 添加了策略详情对话框，包含策略信息、回测、参数优化和实盘交易四个标签页
- 实现了参数优化功能，可以自动寻找最佳参数组合
- 实现了从回测到实盘部署的无缝切换

### 2023-04-13
- 采用Element UI框架重新设计并实现了Web前端界面
- 完成了主布局、策略中心、交易中心、AI分析和用户中心等所有主要页面
- 实现了数据可视化功能，包括图表、表格等展示形式
- 优化了前端界面的用户体验和响应式设计

### 2023-04-12
- 完成了qlib数据格式导入支持，并成功将数据导入到数据库
- 创建了多个导入脚本，包括直接导入和通过CSV中间格式导入
- 成功导入了两只股票（600000和000001）的数据，共计490条日线数据
- 启动了前后台服务，完成了基本的联调测试

### 2023-06-25
- 实现了qlib数据格式导入支持，可以从qlib格式数据导入到SimpleTrade系统
- 创建了测试脚本验证qlib数据读取功能

## 技术选型

### 前端框架
- 采用Element UI作为前端UI组件库，基于Vue 2.x
- 使用Vue Router进行前端路由管理
- 使用Vuex进行状态管理
- 使用ECharts实现数据可视化图表

### 后端框架
- 使用FastAPI作为后端API框架
- 基于vnpy的数据管理和交易接口功能
- 使用SQLite作为数据存储

### 核心设计理念
- **策略参数调整、回测和实盘交易一体化**：用户可在同一界面中完成策略参数调整、回测评估和实盘部署，实现无缝切换
  - 通过策略详情对话框集成所有功能，避免在不同页面间切换
  - 实现一键从回测结果部署到实盘交易
  - 提供实盘交易状态实时监控
- **参数自动优化**：提供策略参数自动优化功能，帮助用户快速找到最优参数组合
  - 支持多目标优化（总收益率、复合收益/最大回撤等）
  - 可选择多个参数进行组合优化
  - 一键应用最优参数组合
- **策略比较分析**：支持多策略或不同参数组合的对比分析，帮助用户选择最适合的策略
  - 提供详细的性能指标对比（总收益率、最大回撤率、胜率等）
  - 可视化展示不同策略的收益曲线
  - 支持交易记录详细分析
